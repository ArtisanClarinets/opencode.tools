33e08e85475166ed519be35670300017
"use strict";
/**
 * Global Test Setup
 *
 * Runs once before all test suites
 */
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
const fs = __importStar(require("fs"));
const path = __importStar(require("path"));
module.exports = async () => {
    console.log('üß™ Global test setup starting...');
    try {
        // Create test directories if they don't exist
        const testDirs = [
            'test-results',
            'coverage',
            'performance-results',
            'load-test-results',
            'mutation-results'
        ];
        for (const dir of testDirs) {
            const dirPath = path.join(process.cwd(), dir);
            if (!fs.existsSync(dirPath)) {
                fs.mkdirSync(dirPath, { recursive: true });
                console.log(`‚úÖ Created directory: ${dir}`);
            }
        }
        // Set up test environment variables
        process.env.NODE_ENV = 'test';
        process.env.TEST_MODE = 'true';
        process.env.LOG_LEVEL = 'error';
        process.env.TZ = 'UTC';
        // Create test configuration
        const testConfig = {
            environment: 'test',
            maxTestTimeout: 30000,
            slowTestThreshold: 5000,
            performance: {
                maxResponseTime: 1000,
                maxMemoryUsage: 512 * 1024 * 1024, // 512MB
                maxCpuUsage: 80
            },
            security: {
                enableVulnerabilityScanning: true,
                maxVulnerabilities: 0
            }
        };
        // Save test configuration
        const configPath = path.join(process.cwd(), 'test-config.json');
        fs.writeFileSync(configPath, JSON.stringify(testConfig, null, 2));
        console.log('‚úÖ Global test setup completed successfully');
    }
    catch (error) {
        console.error('‚ùå Global test setup failed:', error);
        throw error;
    }
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2FwcC90ZXN0cy9zZXR1cC9nbG9iYWwtc2V0dXAudHMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7O0dBSUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUgsdUNBQXlCO0FBQ3pCLDJDQUE2QjtBQUU3QixNQUFNLENBQUMsT0FBTyxHQUFHLEtBQUssSUFBSSxFQUFFO0lBQzFCLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0NBQWtDLENBQUMsQ0FBQztJQUVoRCxJQUFJLENBQUM7UUFDSCw4Q0FBOEM7UUFDOUMsTUFBTSxRQUFRLEdBQUc7WUFDZixjQUFjO1lBQ2QsVUFBVTtZQUNWLHFCQUFxQjtZQUNyQixtQkFBbUI7WUFDbkIsa0JBQWtCO1NBQ25CLENBQUM7UUFFRixLQUFLLE1BQU0sR0FBRyxJQUFJLFFBQVEsRUFBRSxDQUFDO1lBQzNCLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQzlDLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7Z0JBQzVCLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7Z0JBQzNDLE9BQU8sQ0FBQyxHQUFHLENBQUMsd0JBQXdCLEdBQUcsRUFBRSxDQUFDLENBQUM7WUFDN0MsQ0FBQztRQUNILENBQUM7UUFFRCxvQ0FBb0M7UUFDcEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDO1FBQzlCLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQztRQUMvQixPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUM7UUFDaEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsS0FBSyxDQUFDO1FBRXZCLDRCQUE0QjtRQUM1QixNQUFNLFVBQVUsR0FBRztZQUNqQixXQUFXLEVBQUUsTUFBTTtZQUNuQixjQUFjLEVBQUUsS0FBSztZQUNyQixpQkFBaUIsRUFBRSxJQUFJO1lBQ3ZCLFdBQVcsRUFBRTtnQkFDWCxlQUFlLEVBQUUsSUFBSTtnQkFDckIsY0FBYyxFQUFFLEdBQUcsR0FBRyxJQUFJLEdBQUcsSUFBSSxFQUFFLFFBQVE7Z0JBQzNDLFdBQVcsRUFBRSxFQUFFO2FBQ2hCO1lBQ0QsUUFBUSxFQUFFO2dCQUNSLDJCQUEyQixFQUFFLElBQUk7Z0JBQ2pDLGtCQUFrQixFQUFFLENBQUM7YUFDdEI7U0FDRixDQUFDO1FBRUYsMEJBQTBCO1FBQzFCLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFLGtCQUFrQixDQUFDLENBQUM7UUFDaEUsRUFBRSxDQUFDLGFBQWEsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFbEUsT0FBTyxDQUFDLEdBQUcsQ0FBQyw0Q0FBNEMsQ0FBQyxDQUFDO0lBRTVELENBQUM7SUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1FBQ2YsT0FBTyxDQUFDLEtBQUssQ0FBQyw2QkFBNkIsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNwRCxNQUFNLEtBQUssQ0FBQztJQUNkLENBQUM7QUFDSCxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2FwcC90ZXN0cy9zZXR1cC9nbG9iYWwtc2V0dXAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHbG9iYWwgVGVzdCBTZXR1cFxuICogXG4gKiBSdW5zIG9uY2UgYmVmb3JlIGFsbCB0ZXN0IHN1aXRlc1xuICovXG5cbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XG5cbm1vZHVsZS5leHBvcnRzID0gYXN5bmMgKCkgPT4ge1xuICBjb25zb2xlLmxvZygn8J+nqiBHbG9iYWwgdGVzdCBzZXR1cCBzdGFydGluZy4uLicpO1xuICBcbiAgdHJ5IHtcbiAgICAvLyBDcmVhdGUgdGVzdCBkaXJlY3RvcmllcyBpZiB0aGV5IGRvbid0IGV4aXN0XG4gICAgY29uc3QgdGVzdERpcnMgPSBbXG4gICAgICAndGVzdC1yZXN1bHRzJyxcbiAgICAgICdjb3ZlcmFnZScsXG4gICAgICAncGVyZm9ybWFuY2UtcmVzdWx0cycsXG4gICAgICAnbG9hZC10ZXN0LXJlc3VsdHMnLFxuICAgICAgJ211dGF0aW9uLXJlc3VsdHMnXG4gICAgXTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IGRpciBvZiB0ZXN0RGlycykge1xuICAgICAgY29uc3QgZGlyUGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCBkaXIpO1xuICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKGRpclBhdGgpKSB7XG4gICAgICAgIGZzLm1rZGlyU3luYyhkaXJQYXRoLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBDcmVhdGVkIGRpcmVjdG9yeTogJHtkaXJ9YCk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFNldCB1cCB0ZXN0IGVudmlyb25tZW50IHZhcmlhYmxlc1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID0gJ3Rlc3QnO1xuICAgIHByb2Nlc3MuZW52LlRFU1RfTU9ERSA9ICd0cnVlJztcbiAgICBwcm9jZXNzLmVudi5MT0dfTEVWRUwgPSAnZXJyb3InO1xuICAgIHByb2Nlc3MuZW52LlRaID0gJ1VUQyc7XG4gICAgXG4gICAgLy8gQ3JlYXRlIHRlc3QgY29uZmlndXJhdGlvblxuICAgIGNvbnN0IHRlc3RDb25maWcgPSB7XG4gICAgICBlbnZpcm9ubWVudDogJ3Rlc3QnLFxuICAgICAgbWF4VGVzdFRpbWVvdXQ6IDMwMDAwLFxuICAgICAgc2xvd1Rlc3RUaHJlc2hvbGQ6IDUwMDAsXG4gICAgICBwZXJmb3JtYW5jZToge1xuICAgICAgICBtYXhSZXNwb25zZVRpbWU6IDEwMDAsXG4gICAgICAgIG1heE1lbW9yeVVzYWdlOiA1MTIgKiAxMDI0ICogMTAyNCwgLy8gNTEyTUJcbiAgICAgICAgbWF4Q3B1VXNhZ2U6IDgwXG4gICAgICB9LFxuICAgICAgc2VjdXJpdHk6IHtcbiAgICAgICAgZW5hYmxlVnVsbmVyYWJpbGl0eVNjYW5uaW5nOiB0cnVlLFxuICAgICAgICBtYXhWdWxuZXJhYmlsaXRpZXM6IDBcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIFNhdmUgdGVzdCBjb25maWd1cmF0aW9uXG4gICAgY29uc3QgY29uZmlnUGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAndGVzdC1jb25maWcuanNvbicpO1xuICAgIGZzLndyaXRlRmlsZVN5bmMoY29uZmlnUGF0aCwgSlNPTi5zdHJpbmdpZnkodGVzdENvbmZpZywgbnVsbCwgMikpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCfinIUgR2xvYmFsIHRlc3Qgc2V0dXAgY29tcGxldGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBHbG9iYWwgdGVzdCBzZXR1cCBmYWlsZWQ6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59OyJdLCJ2ZXJzaW9uIjozfQ==