{"file":"/app/tests/setup/global-teardown.ts","mappings":";AAAA;;;;GAIG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEH,uCAAyB;AACzB,2CAA6B;AAE7B,MAAM,CAAC,OAAO,GAAG,KAAK,IAAI,EAAE;IAC1B,OAAO,CAAC,GAAG,CAAC,qCAAqC,CAAC,CAAC;IAEnD,IAAI,CAAC;QACH,0BAA0B;QAC1B,MAAM,gBAAgB,GAAG;YACvB,kBAAkB;YAClB,gBAAgB;YAChB,aAAa;SACd,CAAC;QAEF,KAAK,MAAM,QAAQ,IAAI,gBAAgB,EAAE,CAAC;YACxC,MAAM,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,QAAQ,CAAC,CAAC;YACxD,IAAI,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,CAAC;gBAChC,IAAI,EAAE,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,WAAW,EAAE,EAAE,CAAC;oBAC5C,EAAE,CAAC,MAAM,CAAC,YAAY,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;gBAC5D,CAAC;qBAAM,CAAC;oBACN,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC,CAAC;gBAC9B,CAAC;gBACD,OAAO,CAAC,GAAG,CAAC,mBAAmB,QAAQ,EAAE,CAAC,CAAC;YAC7C,CAAC;QACH,CAAC;QAED,kCAAkC;QAClC,MAAM,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,cAAc,EAAE,wBAAwB,CAAC,CAAC;QACvF,MAAM,OAAO,GAAG;YACd,SAAS,EAAE,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE;YACnC,WAAW,EAAE,MAAM;YACnB,MAAM,EAAE,WAAW;YACnB,gBAAgB,EAAE,IAAI;YACtB,gBAAgB,EAAE,gBAAgB,CAAC,MAAM;SAC1C,CAAC;QAEF,uCAAuC;QACvC,MAAM,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,cAAc,CAAC,CAAC;QAChE,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,cAAc,CAAC,EAAE,CAAC;YACnC,EAAE,CAAC,SAAS,CAAC,cAAc,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;QACpD,CAAC;QAED,EAAE,CAAC,aAAa,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;QAEhE,8BAA8B;QAC9B,OAAO,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC;QAC7B,OAAO,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC;QAE7B,OAAO,CAAC,GAAG,CAAC,+CAA+C,CAAC,CAAC;IAE/D,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,OAAO,CAAC,KAAK,CAAC,gCAAgC,EAAE,KAAK,CAAC,CAAC;QACvD,wDAAwD;IAC1D,CAAC;AACH,CAAC,CAAC","names":[],"sources":["/app/tests/setup/global-teardown.ts"],"sourcesContent":["/**\n * Global Test Teardown\n * \n * Runs once after all test suites complete\n */\n\nimport * as fs from 'fs';\nimport * as path from 'path';\n\nmodule.exports = async () => {\n  console.log('üßπ Global test teardown starting...');\n  \n  try {\n    // Clean up test artifacts\n    const artifactsToClean = [\n      'test-config.json',\n      'temp-test-data',\n      '.nyc_output'\n    ];\n    \n    for (const artifact of artifactsToClean) {\n      const artifactPath = path.join(process.cwd(), artifact);\n      if (fs.existsSync(artifactPath)) {\n        if (fs.statSync(artifactPath).isDirectory()) {\n          fs.rmSync(artifactPath, { recursive: true, force: true });\n        } else {\n          fs.unlinkSync(artifactPath);\n        }\n        console.log(`üóëÔ∏è Cleaned up: ${artifact}`);\n      }\n    }\n    \n    // Generate test execution summary\n    const summaryPath = path.join(process.cwd(), 'test-results', 'execution-summary.json');\n    const summary = {\n      timestamp: new Date().toISOString(),\n      environment: 'test',\n      status: 'completed',\n      cleanupCompleted: true,\n      artifactsCleaned: artifactsToClean.length\n    };\n    \n    // Ensure test-results directory exists\n    const testResultsDir = path.join(process.cwd(), 'test-results');\n    if (!fs.existsSync(testResultsDir)) {\n      fs.mkdirSync(testResultsDir, { recursive: true });\n    }\n    \n    fs.writeFileSync(summaryPath, JSON.stringify(summary, null, 2));\n    \n    // Reset environment variables\n    delete process.env.TEST_MODE;\n    delete process.env.LOG_LEVEL;\n    \n    console.log('‚úÖ Global test teardown completed successfully');\n    \n  } catch (error) {\n    console.error('‚ùå Global test teardown failed:', error);\n    // Don't throw in teardown to avoid masking test results\n  }\n};"],"version":3}