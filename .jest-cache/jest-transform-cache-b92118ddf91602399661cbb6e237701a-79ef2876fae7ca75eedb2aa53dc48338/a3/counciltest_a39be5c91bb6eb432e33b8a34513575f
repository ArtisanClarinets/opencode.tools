7f551bc7dff3e528ab9a92d4de30d04d
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const council_1 = require("../../../src/review/council");
class MockMember {
    constructor(name, shouldPass) {
        this.name = name;
        this.role = 'Mock Role';
        this.shouldPass = shouldPass;
    }
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    async review(_content) {
        return {
            reviewerId: this.name,
            rubricId: 'test',
            scores: [],
            totalScore: this.shouldPass ? 1.0 : 0.0,
            passed: this.shouldPass,
            comments: 'Test comment',
            timestamp: new Date().toISOString()
        };
    }
}
describe('LLMCouncil', () => {
    it('should pass if all members pass', async () => {
        const council = new council_1.LLMCouncil();
        council.addMember(new MockMember('Member1', true));
        council.addMember(new MockMember('Member2', true));
        const result = await council.review({});
        expect(result.approved).toBe(true);
        expect(result.results.length).toBe(2);
    });
    it('should fail if any member fails', async () => {
        const council = new council_1.LLMCouncil();
        council.addMember(new MockMember('Member1', true));
        council.addMember(new MockMember('Member2', false));
        const result = await council.review({});
        expect(result.approved).toBe(false);
        expect(result.results.length).toBe(2);
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2FwcC90ZXN0cy91bml0L3Jldmlldy9jb3VuY2lsLnRlc3QudHMiLCJtYXBwaW5ncyI6Ijs7QUFBQSx5REFBeUQ7QUFHekQsTUFBTSxVQUFVO0lBS2QsWUFBWSxJQUFZLEVBQUUsVUFBbUI7UUFDM0MsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxXQUFXLENBQUM7UUFDeEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7SUFDL0IsQ0FBQztJQUVELDZEQUE2RDtJQUM3RCxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQWlCO1FBQzVCLE9BQU87WUFDTCxVQUFVLEVBQUUsSUFBSSxDQUFDLElBQUk7WUFDckIsUUFBUSxFQUFFLE1BQU07WUFDaEIsTUFBTSxFQUFFLEVBQUU7WUFDVixVQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHO1lBQ3ZDLE1BQU0sRUFBRSxJQUFJLENBQUMsVUFBVTtZQUN2QixRQUFRLEVBQUUsY0FBYztZQUN4QixTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxXQUFXLEVBQUU7U0FDcEMsQ0FBQztJQUNKLENBQUM7Q0FDRjtBQUVELFFBQVEsQ0FBQyxZQUFZLEVBQUUsR0FBRyxFQUFFO0lBQzFCLEVBQUUsQ0FBQyxpQ0FBaUMsRUFBRSxLQUFLLElBQUksRUFBRTtRQUMvQyxNQUFNLE9BQU8sR0FBRyxJQUFJLG9CQUFVLEVBQUUsQ0FBQztRQUNqQyxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksVUFBVSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ25ELE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxVQUFVLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7UUFFbkQsTUFBTSxNQUFNLEdBQUcsTUFBTSxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ25DLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4QyxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxpQ0FBaUMsRUFBRSxLQUFLLElBQUksRUFBRTtRQUMvQyxNQUFNLE9BQU8sR0FBRyxJQUFJLG9CQUFVLEVBQUUsQ0FBQztRQUNqQyxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksVUFBVSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ25ELE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxVQUFVLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFFcEQsTUFBTSxNQUFNLEdBQUcsTUFBTSxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BDLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4QyxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9hcHAvdGVzdHMvdW5pdC9yZXZpZXcvY291bmNpbC50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExMTUNvdW5jaWwgfSBmcm9tICcuLi8uLi8uLi9zcmMvcmV2aWV3L2NvdW5jaWwnO1xuaW1wb3J0IHsgQ291bmNpbE1lbWJlciB9IGZyb20gJy4uLy4uLy4uL3NyYy9yZXZpZXcvY291bmNpbCc7XG5cbmNsYXNzIE1vY2tNZW1iZXIgaW1wbGVtZW50cyBDb3VuY2lsTWVtYmVyIHtcbiAgbmFtZTogc3RyaW5nO1xuICByb2xlOiBzdHJpbmc7XG4gIHNob3VsZFBhc3M6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBzaG91bGRQYXNzOiBib29sZWFuKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnJvbGUgPSAnTW9jayBSb2xlJztcbiAgICB0aGlzLnNob3VsZFBhc3MgPSBzaG91bGRQYXNzO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICBhc3luYyByZXZpZXcoX2NvbnRlbnQ6IHVua25vd24pIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmV2aWV3ZXJJZDogdGhpcy5uYW1lLFxuICAgICAgcnVicmljSWQ6ICd0ZXN0JyxcbiAgICAgIHNjb3JlczogW10sXG4gICAgICB0b3RhbFNjb3JlOiB0aGlzLnNob3VsZFBhc3MgPyAxLjAgOiAwLjAsXG4gICAgICBwYXNzZWQ6IHRoaXMuc2hvdWxkUGFzcyxcbiAgICAgIGNvbW1lbnRzOiAnVGVzdCBjb21tZW50JyxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgfVxufVxuXG5kZXNjcmliZSgnTExNQ291bmNpbCcsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCBwYXNzIGlmIGFsbCBtZW1iZXJzIHBhc3MnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgY291bmNpbCA9IG5ldyBMTE1Db3VuY2lsKCk7XG4gICAgY291bmNpbC5hZGRNZW1iZXIobmV3IE1vY2tNZW1iZXIoJ01lbWJlcjEnLCB0cnVlKSk7XG4gICAgY291bmNpbC5hZGRNZW1iZXIobmV3IE1vY2tNZW1iZXIoJ01lbWJlcjInLCB0cnVlKSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb3VuY2lsLnJldmlldyh7fSk7XG4gICAgZXhwZWN0KHJlc3VsdC5hcHByb3ZlZCkudG9CZSh0cnVlKTtcbiAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMubGVuZ3RoKS50b0JlKDIpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGZhaWwgaWYgYW55IG1lbWJlciBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBjb3VuY2lsID0gbmV3IExMTUNvdW5jaWwoKTtcbiAgICBjb3VuY2lsLmFkZE1lbWJlcihuZXcgTW9ja01lbWJlcignTWVtYmVyMScsIHRydWUpKTtcbiAgICBjb3VuY2lsLmFkZE1lbWJlcihuZXcgTW9ja01lbWJlcignTWVtYmVyMicsIGZhbHNlKSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb3VuY2lsLnJldmlldyh7fSk7XG4gICAgZXhwZWN0KHJlc3VsdC5hcHByb3ZlZCkudG9CZShmYWxzZSk7XG4gICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzLmxlbmd0aCkudG9CZSgyKTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==