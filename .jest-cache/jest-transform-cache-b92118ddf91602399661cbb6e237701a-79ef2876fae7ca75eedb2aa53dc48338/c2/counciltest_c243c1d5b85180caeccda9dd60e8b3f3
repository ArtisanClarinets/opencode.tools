399978893275cf0029489050bca377e0
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const council_1 = require("../../../src/review/council");
class MockMember {
    constructor(name, shouldPass) {
        this.name = name;
        this.role = 'Mock Role';
        this.shouldPass = shouldPass;
    }
    async review(content) {
        return {
            reviewerId: this.name,
            rubricId: 'test',
            scores: [],
            totalScore: this.shouldPass ? 1.0 : 0.0,
            passed: this.shouldPass,
            comments: 'Test comment',
            timestamp: new Date().toISOString()
        };
    }
}
describe('LLMCouncil', () => {
    it('should pass if all members pass', async () => {
        const council = new council_1.LLMCouncil();
        council.addMember(new MockMember('Member1', true));
        council.addMember(new MockMember('Member2', true));
        const result = await council.review({});
        expect(result.approved).toBe(true);
        expect(result.results.length).toBe(2);
    });
    it('should fail if any member fails', async () => {
        const council = new council_1.LLMCouncil();
        council.addMember(new MockMember('Member1', true));
        council.addMember(new MockMember('Member2', false));
        const result = await council.review({});
        expect(result.approved).toBe(false);
        expect(result.results.length).toBe(2);
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2FwcC90ZXN0cy91bml0L3Jldmlldy9jb3VuY2lsLnRlc3QudHMiLCJtYXBwaW5ncyI6Ijs7QUFBQSx5REFBeUQ7QUFHekQsTUFBTSxVQUFVO0lBS2QsWUFBWSxJQUFZLEVBQUUsVUFBbUI7UUFDM0MsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxXQUFXLENBQUM7UUFDeEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7SUFDL0IsQ0FBQztJQUVELEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBWTtRQUN2QixPQUFPO1lBQ0wsVUFBVSxFQUFFLElBQUksQ0FBQyxJQUFJO1lBQ3JCLFFBQVEsRUFBRSxNQUFNO1lBQ2hCLE1BQU0sRUFBRSxFQUFFO1lBQ1YsVUFBVSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRztZQUN2QyxNQUFNLEVBQUUsSUFBSSxDQUFDLFVBQVU7WUFDdkIsUUFBUSxFQUFFLGNBQWM7WUFDeEIsU0FBUyxFQUFFLElBQUksSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFO1NBQ3BDLENBQUM7SUFDSixDQUFDO0NBQ0Y7QUFFRCxRQUFRLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTtJQUMxQixFQUFFLENBQUMsaUNBQWlDLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDL0MsTUFBTSxPQUFPLEdBQUcsSUFBSSxvQkFBVSxFQUFFLENBQUM7UUFDakMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNuRCxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksVUFBVSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBRW5ELE1BQU0sTUFBTSxHQUFHLE1BQU0sT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNuQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDeEMsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsaUNBQWlDLEVBQUUsS0FBSyxJQUFJLEVBQUU7UUFDL0MsTUFBTSxPQUFPLEdBQUcsSUFBSSxvQkFBVSxFQUFFLENBQUM7UUFDakMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNuRCxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksVUFBVSxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBRXBELE1BQU0sTUFBTSxHQUFHLE1BQU0sT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN4QyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNwQyxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDeEMsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvYXBwL3Rlc3RzL3VuaXQvcmV2aWV3L2NvdW5jaWwudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMTE1Db3VuY2lsIH0gZnJvbSAnLi4vLi4vLi4vc3JjL3Jldmlldy9jb3VuY2lsJztcbmltcG9ydCB7IENvdW5jaWxNZW1iZXIgfSBmcm9tICcuLi8uLi8uLi9zcmMvcmV2aWV3L2NvdW5jaWwnO1xuXG5jbGFzcyBNb2NrTWVtYmVyIGltcGxlbWVudHMgQ291bmNpbE1lbWJlciB7XG4gIG5hbWU6IHN0cmluZztcbiAgcm9sZTogc3RyaW5nO1xuICBzaG91bGRQYXNzOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgc2hvdWxkUGFzczogYm9vbGVhbikge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5yb2xlID0gJ01vY2sgUm9sZSc7XG4gICAgdGhpcy5zaG91bGRQYXNzID0gc2hvdWxkUGFzcztcbiAgfVxuXG4gIGFzeW5jIHJldmlldyhjb250ZW50OiBhbnkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmV2aWV3ZXJJZDogdGhpcy5uYW1lLFxuICAgICAgcnVicmljSWQ6ICd0ZXN0JyxcbiAgICAgIHNjb3JlczogW10sXG4gICAgICB0b3RhbFNjb3JlOiB0aGlzLnNob3VsZFBhc3MgPyAxLjAgOiAwLjAsXG4gICAgICBwYXNzZWQ6IHRoaXMuc2hvdWxkUGFzcyxcbiAgICAgIGNvbW1lbnRzOiAnVGVzdCBjb21tZW50JyxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgfVxufVxuXG5kZXNjcmliZSgnTExNQ291bmNpbCcsICgpID0+IHtcbiAgaXQoJ3Nob3VsZCBwYXNzIGlmIGFsbCBtZW1iZXJzIHBhc3MnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgY291bmNpbCA9IG5ldyBMTE1Db3VuY2lsKCk7XG4gICAgY291bmNpbC5hZGRNZW1iZXIobmV3IE1vY2tNZW1iZXIoJ01lbWJlcjEnLCB0cnVlKSk7XG4gICAgY291bmNpbC5hZGRNZW1iZXIobmV3IE1vY2tNZW1iZXIoJ01lbWJlcjInLCB0cnVlKSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb3VuY2lsLnJldmlldyh7fSk7XG4gICAgZXhwZWN0KHJlc3VsdC5hcHByb3ZlZCkudG9CZSh0cnVlKTtcbiAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMubGVuZ3RoKS50b0JlKDIpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGZhaWwgaWYgYW55IG1lbWJlciBmYWlscycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBjb3VuY2lsID0gbmV3IExMTUNvdW5jaWwoKTtcbiAgICBjb3VuY2lsLmFkZE1lbWJlcihuZXcgTW9ja01lbWJlcignTWVtYmVyMScsIHRydWUpKTtcbiAgICBjb3VuY2lsLmFkZE1lbWJlcihuZXcgTW9ja01lbWJlcignTWVtYmVyMicsIGZhbHNlKSk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb3VuY2lsLnJldmlldyh7fSk7XG4gICAgZXhwZWN0KHJlc3VsdC5hcHByb3ZlZCkudG9CZShmYWxzZSk7XG4gICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzLmxlbmd0aCkudG9CZSgyKTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==