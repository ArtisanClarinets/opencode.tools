{"file":"/app/src/runtime/llm.ts","mappings":";;;AAUA,MAAa,eAAe;IAC1B,6DAA6D;IAC7D,KAAK,CAAC,QAAQ,CAAC,MAAc,EAAE,QAAkB;QAC/C,kCAAkC;QAClC,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,MAAM,EAAE,CAAC;YACpC,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;QACzD,CAAC;QAED,IAAI,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC;YAC/D,OAAO;gBACL,OAAO,EAAE,4dAA4d;aACte,CAAC;QACJ,CAAC;QAED,OAAO;YACL,OAAO,EAAE,sCAAsC,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK;SAC5E,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,OAAe,EAAE,QAAgB;QAC7C,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,MAAM,EAAE,CAAC;YACpC,MAAM,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;QACzD,CAAC;QAED,IAAI,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC;YACjE,OAAO;gBACL,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC;oBACtB,KAAK,EAAE,IAAI;oBACX,KAAK,EAAE,IAAI;oBACX,MAAM,EAAE,EAAE;oBACV,OAAO,EAAE,uCAAuC;iBACjD,CAAC;aACH,CAAC;QACJ,CAAC;QAED,IAAI,QAAQ,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE,CAAC;YACrE,OAAO;gBACN,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC;oBACtB,KAAK,EAAE,IAAI;oBACX,KAAK,EAAE,IAAI;oBACX,MAAM,EAAE,CAAC,wCAAwC,CAAC;oBAClD,OAAO,EAAE,iDAAiD;iBAC3D,CAAC;aACH,CAAC;QACJ,CAAC;QAED,OAAO;YACL,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC;gBACtB,KAAK,EAAE,IAAI;gBACX,KAAK,EAAE,GAAG;gBACV,OAAO,EAAE,6CAA6C;aACvD,CAAC;SACH,CAAC;IACJ,CAAC;CACF;AAtDD,0CAsDC","names":[],"sources":["/app/src/runtime/llm.ts"],"sourcesContent":["export interface LLMResponse {\n  content: string;\n  metadata?: Record<string, unknown>;\n}\n\nexport interface LLMProvider {\n  generate(prompt: string, context?: unknown): Promise<LLMResponse>;\n  analyze(content: string, criteria: string): Promise<LLMResponse>;\n}\n\nexport class MockLLMProvider implements LLMProvider {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  async generate(prompt: string, _context?: unknown): Promise<LLMResponse> {\n    // Simulate latency (skip in test)\n    if (process.env.NODE_ENV !== 'test') {\n      await new Promise(resolve => setTimeout(resolve, 500));\n    }\n\n    if (prompt.includes('summarize') || prompt.includes('summary')) {\n      return {\n        content: `**Executive Summary**\\n\\nBased on the extensive research provided, this report outlines the key findings regarding the target subject. The data suggests a strong market presence and significant opportunities for growth.\\n\\n**Key Findings**:\\n1. Market leadership in core sectors.\\n2. Innovation driven by recent R&D investments.\\n3. Potential risks in supply chain stability.\\n\\n**Conclusion**\\nThe subject demonstrates robust health with specific areas requiring attention.`\n      };\n    }\n\n    return {\n      content: `Generated content based on prompt: ${prompt.substring(0, 50)}...`\n    };\n  }\n\n  async analyze(content: string, criteria: string): Promise<LLMResponse> {\n    if (process.env.NODE_ENV !== 'test') {\n      await new Promise(resolve => setTimeout(resolve, 300));\n    }\n\n    if (criteria.includes('citation') || criteria.includes('verify')) {\n      return {\n        content: JSON.stringify({\n          valid: true,\n          score: 0.95,\n          issues: [],\n          comment: \"Citations appear valid and reachable.\"\n        })\n      };\n    }\n\n    if (criteria.includes('credibility') || criteria.includes('validity')) {\n       return {\n        content: JSON.stringify({\n          valid: true,\n          score: 0.88,\n          issues: [\"Minor inconsistency in date formatting\"],\n          comment: \"Data sources are credible and cross-referenced.\"\n        })\n      };\n    }\n\n    return {\n      content: JSON.stringify({\n        valid: true,\n        score: 0.9,\n        comment: \"Analysis passed based on provided criteria.\"\n      })\n    };\n  }\n}\n"],"version":3}